<div id="wrap">
  <div class="link box">
    <p>0. Shape Url</p>
    <input type="text" id="link" value="" placeholder="input your url" style="width:200px">
  </div>
  <div class="add_shape box">
    <div>
      <p>1. Color</p>
      <a href="#" class="color btn" data-color="red" style="background-color:red; color:white;"></a>
      <a href="#" class="color btn" data-color="green" style="background-color:green; color:white;"></a>
      <a href="#" class="color btn" data-color="blue" style="background-color:blue; color:white;"></a>
      <a href="#" class="color btn" data-color="purple" style="background-color:purple; color:white;"></a>
      <a href="#" class="color btn" data-color="yellow" style="background-color:yellow; color:black;"></a>
    </div>
    <div class="defalut_shape shape">
      <p>2. Basic Shape Type</p>
      <a href="#" id="rect" class="btn">add rectangle</a>
      <a href="#" id="circle" class="btn">add circle</a>
      <a href="#" id="ellipse" class="btn">add ellipse</a>
    </div>

    <div class="text_shape shape">
      <p>3. Text Shape Type</p>
      <input type="number" id="size" placeholder="text size" style="width:60px">
      <input type="text" id="text_input" placeholder="input text" style="width: 150px;">
      <a href="#" id="text" class="btn">add text</a>
    </div>

    <div class="image_shape shape">
      <p>4. Image Shape Type</p>
      <input type="radio" id="image_1" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_pushpin_right_azure_22998.png"><label for="image_1"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_pushpin_right_azure_22998.png"></label>
      <input type="radio" id="image_2" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_marker_outside_azure_23007.png"><label for="image_2"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_marker_outside_azure_23007.png"></label>
      <input type="radio" id="image_3" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_drawingpin_right_pink_23026.png"><label for="image_3"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_drawingpin_right_pink_23026.png"></label>
      <input type="radio" id="image_4" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/156/PNG/128/bt_right_arrow_22072.png" checked><label for="image_4"><img src="http://icon-icons.com/icons2/156/PNG/128/bt_right_arrow_22072.png"></label>
      <a href="#" id="image" class="btn">add image</a>
    </div>
  </div>
  <div class="remove_shape box">
    <a href="#" id="remove" class="btn">remove shape</a>
    <a href="#" id="remove_all" class="btn">remove all shapes</a>
  </div>
  <div class="_imageMaps_area">
    <h3>Edit Image Maps</h3>
    <img src="http://cfile209.uf.daum.net/image/247F194A5234414929344E" class="_image_maps">
  </div>

  <div class="_imageMaps_area_view">
    <h3 class="view_header">Result</h3>
    <a href="#" class="btn maps_view" id="view">view result</a>
    <img src="http://cfile209.uf.daum.net/image/247F194A5234414929344E" class="_image_maps_view">
  </div>
</div>
}

a.color.selected {
  border: 3px solid black;
}

input[type=text],
input[type=number] {
  height: 24px;
}

label > img {
  width: 7%;
  height: 7%;
}

label[for=image_4] > img {
  width: 45px;
}

div.box {
  margin: 0 auto;
  width: 650px;
  border-bottom: 1px solid grey;
  padding: 15px 0 15px 0;
}

div.desc {
  margin: 0 auto;
  width: 650px;
}

.view_header {
  float: left;
  position: relative;
}

.maps_view {
  margin: 15px;
  position: relative;
  top: 16px;
}</style></head><body>
<div id="wrap">
  <div class="link box">
    <p>0. Shape Url</p>
    <input type="text" id="link" value="" placeholder="input your url" style="width:200px">
  </div>
  <div class="add_shape box">
    <div>
      <p>1. Color</p>
      <a href="#" class="color btn" data-color="red" style="background-color:red; color:white;"></a>
      <a href="#" class="color btn" data-color="green" style="background-color:green; color:white;"></a>
      <a href="#" class="color btn" data-color="blue" style="background-color:blue; color:white;"></a>
      <a href="#" class="color btn" data-color="purple" style="background-color:purple; color:white;"></a>
      <a href="#" class="color btn" data-color="yellow" style="background-color:yellow; color:black;"></a>
    </div>
    <div class="defalut_shape shape">
      <p>2. Basic Shape Type</p>
      <a href="#" id="rect" class="btn">add rectangle</a>
      <a href="#" id="circle" class="btn">add circle</a>
      <a href="#" id="ellipse" class="btn">add ellipse</a>
    </div>

    <div class="text_shape shape">
      <p>3. Text Shape Type</p>
      <input type="number" id="size" placeholder="text size" style="width:60px">
      <input type="text" id="text_input" placeholder="input text" style="width: 150px;">
      <a href="#" id="text" class="btn">add text</a>
    </div>

    <div class="image_shape shape">
      <p>4. Image Shape Type</p>
      <input type="radio" id="image_1" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_pushpin_right_azure_22998.png"><label for="image_1"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_pushpin_right_azure_22998.png"></label>
      <input type="radio" id="image_2" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_marker_outside_azure_23007.png"><label for="image_2"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_marker_outside_azure_23007.png"></label>
      <input type="radio" id="image_3" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/165/PNG/256/mapmarker_drawingpin_right_pink_23026.png"><label for="image_3"><img src="http://icon-icons.com/icons2/165/PNG/256/mapmarker_drawingpin_right_pink_23026.png"></label>
      <input type="radio" id="image_4" name="image_input" class="image_input" data-image="http://icon-icons.com/icons2/156/PNG/128/bt_right_arrow_22072.png" checked><label for="image_4"><img src="http://icon-icons.com/icons2/156/PNG/128/bt_right_arrow_22072.png"></label>
      <a href="#" id="image" class="btn">add image</a>
    </div>
  </div>
  <div class="remove_shape box">
    <a href="#" id="remove" class="btn">remove shape</a>
    <a href="#" id="remove_all" class="btn">remove all shapes</a>
  </div>
  <div class="_imageMaps_area">
    <h3>Edit Image Maps</h3>
    <img src="http://cfile209.uf.daum.net/image/247F194A5234414929344E" class="_image_maps">
  </div>

  <div class="_imageMaps_area_view">
    <h3 class="view_header">Result</h3>
    <a href="#" class="btn maps_view" id="view">view result</a>
    <img src="http://cfile209.uf.daum.net/image/247F194A5234414929344E" class="_image_maps_view">
  </div>
</div>
<script src='//assets.codepen.io/assets/common/stopExecutionOnTimeout-53beeb1a007ec32040abaf4c9385ebfc.js'></script><script src='https://code.jquery.com/jquery-2.2.4.min.js'></script><script src='https://rawgit.com/naver/imagemaps-jquery-plugin/master/jquery.imageMaps.min.js'></script>
<script>var imageMaps = $('._image_maps').imageMaps({
    'isEditMode': true,
    'shape': 'rect',
    'shapeStyle': {
        'fill': '#ffffff',
        'stroke': 'red',
        'stroke-width': 2
    },
    'onSelect': function (event, data) {
        console.log(data);
    }
});
$('#rect').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').setShapeStyle({
        'fill': $('a.color.selected').data('color'),
        'stroke': $('a.color.selected').data('color'),
        'stroke-width': 2
    }).addShape(null, $('#link').val(), 'rect');
});
$('#circle').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').setShapeStyle({
        'fill': $('a.color.selected').data('color'),
        'stroke': $('a.color.selected').data('color'),
        'stroke-width': 2
    }).addShape(null, $('#link').val(), 'circle');
});
$('#ellipse').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').setShapeStyle({
        'fill': $('a.color.selected').data('color'),
        'stroke': $('a.color.selected').data('color'),
        'stroke-width': 2
    }).addShape(null, $('#link').val(), 'ellipse');
});
$('a.color').on('click', function (event) {
    event.preventDefault();
    $('a.color').removeClass('selected');
    $(this).addClass('selected');
});
$('#text').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').setTextShape($('#text_input').val(), {
        'fill': $('a.color.selected').data('color'),
        'stroke': '',
        'stroke-width': ''
    }).addShape([
        null,
        null,
        $('#size').val()
    ], $('#link').val(), 'text');
});
$('#image').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').setImageShape($('input.image_input:checked').data('image')).addShape(null, $('#link').val(), 'image');
});
$('#remove').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').removeShape();
});
$('#remove_all').on('click', function (event) {
    event.preventDefault();
    $('._image_maps').removeAllShapes();
});
var viewEl = $('._image_maps_view');
viewEl.imageMaps();
$('#view').on('click', function (event) {
    event.preventDefault();
    var allShapes = $('._image_maps').getAllShapes();
    var newCoords = null;
    viewEl.removeAllShapes();
    $.each(allShapes, function (index, item) {
        viewEl.setShapeStyle(item.style);
        if (item.href) {
            viewEl.setImageShape(item.href);
        }
        if (item.text) {
            viewEl.setTextShape(item.text);
        }
        var originalImg = $('._imageMaps_area').find('img');
        var viewImage = $('._imageMaps_area_view').find('img');
        var widthRatio = originalImg.width();
        var heightRatio = originalImg.height();
        newCoords = viewEl.getCoordsByRatio(item.coords, item.type, viewImage.width() / widthRatio, viewImage.height() / heightRatio);
        viewEl.addShape(newCoords, item.url, item.type);
    });
});
//# sourceURL=pen.js
</script>
</body></html>
